<!DOCTYPE html>

{% extends 'base.html' %} {% block content %}
<div class="container editCab-container">
  <h4 class="page-headings">Edit Cab</h4>
  <div class="row">
    <!---------- Form -------------->

    <!--Get URL, or use the URL, for the insert_cab function -->
    <form
      action="{{ url_for('update_cab', cab_id=cab._id) }}"
      method="POST"
      class="col s12"
    >
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">local_taxi</i>
          <!--- Select option for vehicle types-->
          <select id="type" name="vehicle_type">
            <option value="" disabled selected>Choose Vehicle</option>
            <!-- Display each instant of the type-->
            {% for type in types %} {% if type.vehicle_type == cab.vehicle_type
            %}
            <option value="{{type.vehicle_type}}" selected
              >{{type.vehicle_type}}</option
            >
            {% else %}
            <option value="{{type.vehicle_type}}">{{type.vehicle_type}}</option>
            {% endif %} {% endfor %}
          </select>
          <label>Vehicle Type</label>
        </div>
      </div>
      <!---------------End Vehicle Type-------->

      <!--------------- Vehicle Brand ------->
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">branding_watermark</i>
          <!--- Select option for brand-->
          <select id="brand" name="brand_name">
            <option value="" disabled selected>Choose Brand</option>
            <!-- Display each instant of the type-->
            {% for brand in brands %} {% if brand.brand_name == cab.brand_name
            %}
            <option value="{{brand.brand_name}}" selected
              >{{brand.brand_name}}</option
            >
            {% else %}
            <option value="{{brand.brand_name}}">{{brand.brand_name}}</option>
            {% endif %} {% endfor %}
          </select>
          <label>Brand</label>
        </div>
      </div>
      <!---------------End Vehicle Brand ------->

       <!---------- Name -------------->
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">account_circle</i>
          <input id="owner-name" name="owner_name" type="text" class="validate" required/>
          <label for="icon_prefix">Name</label>
        </div>
      </div>
      <!----------End Name  -------------->
      
      <!----------Location------->
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">location_on</i>
          <input
            id="cab_location"
            name="cab_location"
            type="text"
            class="validate"
            value="{{cab.cab_location}}"
          />
          <label for="icon_telephone">Location</label>
        </div>
      </div>
      <!----------End Location ------->
      <!---------- Email -------------->
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">email</i>
          <input
            id="email"
            name="email"
            type="text"
            class="validate"
            value="{{cab.email}}"
          />
          <label for="icon_prefix">Email</label>
        </div>
      </div>
      <!----------End email  -------------->
      <!----------Tel number  -------------->
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">phone</i>
          <input
            id="tel_nr"
            name="tel_nr"
            type="tel"
            class="validate"
            value="{{cab.tel_nr}}"
          />
          <label for="icon_telephone">Telephone</label>
        </div>
      </div>
      <!---------- End Tel number -------------->
      <!---------- Image URL  -------------->
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">insert_photo</i>
          <input
            id="cab_picture"
            name="cab_picture"
            type="text"
            class="validate"
            value="{{cab.cab_picture}}"
          />
          <label for="icon_prefix">Image URL</label>
        </div>
      </div>
      <!---------- End Image URL  -------------->

      <!---------- Button -------------->
      <div class="row">
        <button
          class="btn waves-effect waves-light btn-large"
          type="submit"
          name="action"
        >
          Edit Cab
          <i class="material-icons right">playlist_add</i>
        </button>
      </div>
      <!----------End Button -------------->
    </form>
    <!----------  -------------->
    <!---------- End Form -------------->
  </div>
</div>

<!-- jQuerry -->
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
  integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
  crossorigin="anonymous"
></script>

<script type="text/javascript">
  $(document).ready(function () {
    // local variable
    new_date = Date.parse("{{cab.booking_date}}");
    // inject the due date into the form field associated with that date picker.
    $("#booking_date")
      .pickadate("picker")
      .set("select", new_date, { format: "dd/mm/yyyy" })
      .trigger("change");
  });
</script>

{% endblock %}
